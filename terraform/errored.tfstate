{
  "version": 4,
  "terraform_version": "1.13.3",
  "serial": 59,
  "lineage": "5ab3349c-8de8-b477-dd5b-a4d344b273be",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "aws_eks_cluster_auth",
      "name": "cluster_auth",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-cluster",
            "name": "eks-cluster",
            "token": "k8s-aws-v1.aHR0cHM6Ly9zdHMuZXUtd2VzdC0yLmFtYXpvbmF3cy5jb20vP0FjdGlvbj1HZXRDYWxsZXJJZGVudGl0eSZWZXJzaW9uPTIwMTEtMDYtMTUmWC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBUVNCWklSUjY2RjdFVkNWTCUyRjIwMjYwMTE5JTJGZXUtd2VzdC0yJTJGc3RzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNjAxMTlUMTMxNTQ3WiZYLUFtei1FeHBpcmVzPTAmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JTNCeC1rOHMtYXdzLWlkJlgtQW16LVNpZ25hdHVyZT0zOWRmZjljYmVkMGU2NmI5MTZhNzU2ZGM1ODJmYmVjZjEwMDkwOTBlMjhhYTc5NWJkODVlNTJhZDYxOTIzYTU0"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "token"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.cert-manager",
      "mode": "managed",
      "type": "helm_release",
      "name": "cert_manager",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "cert-manager",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "cert-manager",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "v1.16.1",
                "chart": "cert-manager",
                "name": "cert-manager",
                "namespace": "cert-manager",
                "revision": 1,
                "values": "{\"installCRDs\":true}",
                "version": "v1.16.1"
              }
            ],
            "name": "cert-manager",
            "namespace": "cert-manager",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://charts.jetstack.io",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [
              {
                "name": "installCRDs",
                "type": "",
                "value": "true"
              }
            ],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 600,
            "values": null,
            "verify": false,
            "version": "v1.16.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.cert-manager",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "letsencrypt_prod",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "cert-manager.io/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/cert-manager.io/v1/clusterissuers/letsencrypt-prod",
            "ignore_fields": null,
            "kind": "ClusterIssuer",
            "live_manifest_incluster": "893eacc2113852bb7595c1a2fd2188c8c9441ba50bc1691814b710de54e69e5e",
            "live_uid": "7c83a96a-3e97-4d71-b708-660b8f248709",
            "name": "letsencrypt-prod",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "7c83a96a-3e97-4d71-b708-660b8f248709",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: cert-manager.io/v1\r\nkind: ClusterIssuer\r\nmetadata:\r\n  name: letsencrypt-prod\r\nspec:\r\n  acme:\r\n    server:  https://acme-v02.api.letsencrypt.org/directory\r\n    email: stokemubashir@gmail.com\r\n    privateKeySecretRef:\r\n      name: letsencrypt-nginx-cert\r\n    solvers:\r\n    - http01:\r\n        ingress:\r\n          class: nginx\r\n",
            "yaml_body_parsed": "apiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: letsencrypt-prod\nspec:\n  acme:\n    email: stokemubashir@gmail.com\n    privateKeySecretRef:\n      name: letsencrypt-nginx-cert\n    server: https://acme-v02.api.letsencrypt.org/directory\n    solvers:\n    - http01:\n        ingress:\n          class: nginx\n",
            "yaml_incluster": "893eacc2113852bb7595c1a2fd2188c8c9441ba50bc1691814b710de54e69e5e"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.cert-manager",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "letsencrypt_staging",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "cert-manager.io/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/cert-manager.io/v1/clusterissuers/letsencrypt-staging",
            "ignore_fields": null,
            "kind": "ClusterIssuer",
            "live_manifest_incluster": "965d0cd6538f63ee1ae709e7ace849e57c8d0cbd9e4763c19d55282ea137a8dc",
            "live_uid": "3b496c22-8bc3-46f2-8b7a-8d1ec70dd580",
            "name": "letsencrypt-staging",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "3b496c22-8bc3-46f2-8b7a-8d1ec70dd580",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: cert-manager.io/v1\r\nkind: ClusterIssuer\r\nmetadata:\r\n  name: letsencrypt-staging\r\nspec:\r\n  acme:\r\n    server: https://acme-staging-v02.api.letsencrypt.org/directory\r\n    email: stokemubashir@gmail.com\r\n    privateKeySecretRef:\r\n      name: letsencrypt-nginx-cert-staging\r\n    solvers:\r\n    - http01:\r\n        ingress:\r\n          class: nginx\r\n",
            "yaml_body_parsed": "apiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: letsencrypt-staging\nspec:\n  acme:\n    email: stokemubashir@gmail.com\n    privateKeySecretRef:\n      name: letsencrypt-nginx-cert-staging\n    server: https://acme-staging-v02.api.letsencrypt.org/directory\n    solvers:\n    - http01:\n        ingress:\n          class: nginx\n",
            "yaml_incluster": "965d0cd6538f63ee1ae709e7ace849e57c8d0cbd9e4763c19d55282ea137a8dc"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "data",
      "type": "tls_certificate",
      "name": "eks",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "certificates": [
              {
                "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIEkjCCA3qgAwIBAgITBn+USionzfP6wq4rAfkI7rnExjANBgkqhkiG9w0BAQsF\nADCBmDELMAkGA1UEBhMCVVMxEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNj\nb3R0c2RhbGUxJTAjBgNVBAoTHFN0YXJmaWVsZCBUZWNobm9sb2dpZXMsIEluYy4x\nOzA5BgNVBAMTMlN0YXJmaWVsZCBTZXJ2aWNlcyBSb290IENlcnRpZmljYXRlIEF1\ndGhvcml0eSAtIEcyMB4XDTE1MDUyNTEyMDAwMFoXDTM3MTIzMTAxMDAwMFowOTEL\nMAkGA1UEBhMCVVMxDzANBgNVBAoTBkFtYXpvbjEZMBcGA1UEAxMQQW1hem9uIFJv\nb3QgQ0EgMTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALJ4gHHKeNXj\nca9HgFB0fW7Y14h29Jlo91ghYPl0hAEvrAIthtOgQ3pOsqTQNroBvo3bSMgHFzZM\n9O6II8c+6zf1tRn4SWiw3te5djgdYZ6k/oI2peVKVuRF4fn9tBb6dNqcmzU5L/qw\nIFAGbHrQgLKm+a/sRxmPUDgH3KKHOVj4utWp+UhnMJbulHheb4mjUcAwhmahRWa6\nVOujw5H5SNz/0egwLX0tdHA114gk957EWW67c4cX8jJGKLhD+rcdqsq08p8kDi1L\n93FcXmn/6pUCyziKrlA4b9v7LWIbxcceVOF34GfID5yHI9Y/QCB/IIDEgEw+OyQm\njgSubJrIqg0CAwEAAaOCATEwggEtMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/\nBAQDAgGGMB0GA1UdDgQWBBSEGMyFNOy8DJSULghZnMeyEE4KCDAfBgNVHSMEGDAW\ngBScXwDfqgHXMCs4iKK4bUqc8hGRgzB4BggrBgEFBQcBAQRsMGowLgYIKwYBBQUH\nMAGGImh0dHA6Ly9vY3NwLnJvb3RnMi5hbWF6b250cnVzdC5jb20wOAYIKwYBBQUH\nMAKGLGh0dHA6Ly9jcnQucm9vdGcyLmFtYXpvbnRydXN0LmNvbS9yb290ZzIuY2Vy\nMD0GA1UdHwQ2MDQwMqAwoC6GLGh0dHA6Ly9jcmwucm9vdGcyLmFtYXpvbnRydXN0\nLmNvbS9yb290ZzIuY3JsMBEGA1UdIAQKMAgwBgYEVR0gADANBgkqhkiG9w0BAQsF\nAAOCAQEAYjdCXLwQtT6LLOkMm2xF4gcAevnFWAu5CIw+7bMlPLVvUOTNNWqnkzSW\nMiGpSESrnO09tKpzbeR/FoCJbM8oAxiDR3mjEH4wW6w7sGDgd9QIpuEdfF7Au/ma\neyKdpwAJfqxGF4PcnCZXmTA5YpaP7dreqsXMGz7KQ2hsVxa81Q4gLv7/wmpdLqBK\nbRRYh5TmOTFffHPLkIhqhBGWJ6bt2YFGpn6jcgAKUj6DiAdjd4lpFw85hdKrCEVN\n0FE6/V1dN2RMfjCyVSRCnTawXZwXgWHxyvkQAiSr6w10kY17RSlQOYiypok1JR4U\nakcjMS9cmvqtmg5iUaQqqcT5NJ0hGA==\n-----END CERTIFICATE-----\n",
                "is_ca": true,
                "issuer": "CN=Starfield Services Root Certificate Authority - G2,O=Starfield Technologies\\, Inc.,L=Scottsdale,ST=Arizona,C=US",
                "not_after": "2037-12-31T01:00:00Z",
                "not_before": "2015-05-25T12:00:00Z",
                "public_key_algorithm": "RSA",
                "serial_number": "144918191876577076464031512351042010504348870",
                "sha1_fingerprint": "06b25927c42a721631c1efd9431e648fa62e1e39",
                "signature_algorithm": "SHA256-RSA",
                "subject": "CN=Amazon Root CA 1,O=Amazon,C=US",
                "version": 3
              },
              {
                "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIEXjCCA0agAwIBAgITB3MSTNQG0mfAmRzdKZqfODF5hTANBgkqhkiG9w0BAQsF\nADA5MQswCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRkwFwYDVQQDExBBbWF6\nb24gUm9vdCBDQSAxMB4XDTIyMDgyMzIyMjYwNFoXDTMwMDgyMzIyMjYwNFowPDEL\nMAkGA1UEBhMCVVMxDzANBgNVBAoTBkFtYXpvbjEcMBoGA1UEAxMTQW1hem9uIFJT\nQSAyMDQ4IE0wMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALd/pVko\n8vuM475Tf45HV3BbCl/B9Jy89G1CRkFjcPY06WA9lS+7dWbUA7GtWUKoksr69hKM\nwcMsNpxlw7b3jeXFgxB09/nmalcAWtnLzF+LaDKEA5DQmvKzuh1nfIfqEiKCQSmX\nXh09Xs+dO7cm5qbaL2hhNJCSAejciwcvOFgFNgEMR42wm6KIFHsQW28jhA+1u/M0\np6fVwReuEgZfLfdx82Px0LJck3lST3EB/JfbdsdOzzzg5YkY1dfuqf8y5fUeZ7Cz\nWXbTjujwX/TovmeWKA36VLCz75azW6tDNuDn66FOpADZZ9omVaF6BqNJiLMVl6P3\n/c0OiUMC6Z5OfKcCAwEAAaOCAVowggFWMBIGA1UdEwEB/wQIMAYBAf8CAQAwDgYD\nVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAdBgNV\nHQ4EFgQUVdkYX9IczAHhWLS+q9lVQgHXLgIwHwYDVR0jBBgwFoAUhBjMhTTsvAyU\nlC4IWZzHshBOCggwewYIKwYBBQUHAQEEbzBtMC8GCCsGAQUFBzABhiNodHRwOi8v\nb2NzcC5yb290Y2ExLmFtYXpvbnRydXN0LmNvbTA6BggrBgEFBQcwAoYuaHR0cDov\nL2NydC5yb290Y2ExLmFtYXpvbnRydXN0LmNvbS9yb290Y2ExLmNlcjA/BgNVHR8E\nODA2MDSgMqAwhi5odHRwOi8vY3JsLnJvb3RjYTEuYW1hem9udHJ1c3QuY29tL3Jv\nb3RjYTEuY3JsMBMGA1UdIAQMMAowCAYGZ4EMAQIBMA0GCSqGSIb3DQEBCwUAA4IB\nAQAGjeWm2cC+3z2MzSCnte46/7JZvj3iQZDY7EvODNdZF41n71Lrk9kbfNwerK0d\nVNzW36Wefr7j7ZSwBVg50W5ay65jNSN74TTQV1yt4WnSbVvN6KlMs1hiyOZdoHKs\nKDV2UGNxbdoBYCQNa2GYF8FQIWLugNp35aSOpMy6cFlymFQomIrnOQHwK1nvVY4q\nxDSJMU/gNJz17D8ArPN3ngnyZ2TwepJ0uBINz3G5te2rdFUF4i4Y3Bb7FUlHDYm4\nu8aIRGpk2ZpfXmxaoxnbIBZRvGLPSUuPwnwoUOMsJ8jirI5vs2dvchPb7MtI1rle\ni02f2ivH2vxkjDLltSpe2fiC\n-----END CERTIFICATE-----\n",
                "is_ca": true,
                "issuer": "CN=Amazon Root CA 1,O=Amazon,C=US",
                "not_after": "2030-08-23T22:26:04Z",
                "not_before": "2022-08-23T22:26:04Z",
                "public_key_algorithm": "RSA",
                "serial_number": "166129356476704345391986644047206454194698629",
                "sha1_fingerprint": "d9fe0a65fa00cabf61f5120d373a8135e1461f15",
                "signature_algorithm": "SHA256-RSA",
                "subject": "CN=Amazon RSA 2048 M03,O=Amazon,C=US",
                "version": 3
              },
              {
                "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIF5zCCBM+gAwIBAgIQDOCAKjgOijRH00eMx8pmLzANBgkqhkiG9w0BAQsFADA8\nMQswCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRwwGgYDVQQDExNBbWF6b24g\nUlNBIDIwNDggTTAzMB4XDTI1MDIyNjAwMDAwMFoXDTI2MDMyODIzNTk1OVowKDEm\nMCQGA1UEAwwdKi5la3MuZXUtd2VzdC0yLmFtYXpvbmF3cy5jb20wggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDtF5tgb91Q48f+Y+xVj0bGJwiIkdty4qXQ\n5CtOzufk75SbAkzXa8UCu7fGjMfK1U4eol3EbaLs8cn+toZUMFZnBOF/3PzQSwUa\nSBu3Mx+ysK5wfMPQKicyjj8TVNT+Rpy4mALoOW32j7gU03aBmVoWrMUU4JlbKIq6\nvcK5o9U37NoqhM1xoEWjBU9PByYy7eH/CKsPXrVgS0WYoJ3jkkVJJk1qGRIrQlZb\nJVQYlRgpydCzyyP7xJoX/mjwXbc0Umb1T6dpyqaxk6xS1jDUXhN8oc1hATZZyfkF\nGRhYYPa1QWCrcz0DglnrMLxAm9dmoweFe8BQ4j6m2MTg3Vhx07eBAgMBAAGjggL3\nMIIC8zAfBgNVHSMEGDAWgBRV2Rhf0hzMAeFYtL6r2VVCAdcuAjAdBgNVHQ4EFgQU\nHgoWqJ/VsQuFzs7Y8BuA9jr+6uwwKAYDVR0RBCEwH4IdKi5la3MuZXUtd2VzdC0y\nLmFtYXpvbmF3cy5jb20wEwYDVR0gBAwwCjAIBgZngQwBAgEwDgYDVR0PAQH/BAQD\nAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjA7BgNVHR8ENDAyMDCg\nLqAshipodHRwOi8vY3JsLnIybTAzLmFtYXpvbnRydXN0LmNvbS9yMm0wMy5jcmww\ndQYIKwYBBQUHAQEEaTBnMC0GCCsGAQUFBzABhiFodHRwOi8vb2NzcC5yMm0wMy5h\nbWF6b250cnVzdC5jb20wNgYIKwYBBQUHMAKGKmh0dHA6Ly9jcnQucjJtMDMuYW1h\nem9udHJ1c3QuY29tL3IybTAzLmNlcjAMBgNVHRMBAf8EAjAAMIIBfwYKKwYBBAHW\neQIEAgSCAW8EggFrAWkAdgCWl2S/VViXrfdDh2g3CEJ36fA61fak8zZuRqQ/D8qp\nxgAAAZU/pUXPAAAEAwBHMEUCIQCpQH3ao3qlMJQ0QHMVCA+ET8Na/+j1ibSsgJU6\nRvpngwIgSPEGhZ8afc1x5VZoiWoY/14nCm/xPb2oFvZ+utbCNjsAdgBkEcRspBLs\np4kcogIuALyrTygH1B41J6vq/tUDyX3N8AAAAZU/pUXUAAAEAwBHMEUCIQC/NPTL\nYvCoxUsT57qVZ0sV9XPUFnWpUx8kDTS8ajFk7AIgfIdqxwA2kb3jWQHH1IpreUjO\nGNDdyUMIVg0+hAmZ44kAdwBJnJtp3h187Pw23s2HZKa4W68Kh4AZ0VVS++nrKd34\nwwAAAZU/pUXoAAAEAwBIMEYCIQCo8DuRuoqhvlOsidd9Ndwsa7acx4pTqY3Dd2m7\nfPeBxQIhANyZsWQgT85xGMRMbKAOrovlHJCwfQKbd8NPNxFBVjDDMA0GCSqGSIb3\nDQEBCwUAA4IBAQChYwNqtmhZSNmyyQUGcfKyqR75ksZUrHqElbcNDsn2PPVAw/d4\nbu2W7IIKFXBDTpSKVBL0k1N2lOFv6EVLJ7jsAujn0P+D76Z4F61qiWtl7cTOxvQR\nQMx4pJqMpD7ew6NYik1utyyHpxnpTHWYj6ihmN5XcFzO6LPRxXvjp7wkzxtqYPAD\n8wGkrxecCmT8XfBw22dRMIGp62yer/vNb1u1oVunoW/niqdxsrM9KbUUPWRIGkHV\nfIlsUrhvdYa5KcxCus2KaF9ABQAlglZxXrqH4TrgU8vFmEHKY04HJOK5RjdXNSN1\nLWOa3a1kYgc7rSlkhHH8+vDsRl/OHvDIWDon\n-----END CERTIFICATE-----\n",
                "is_ca": false,
                "issuer": "CN=Amazon RSA 2048 M03,O=Amazon,C=US",
                "not_after": "2026-03-28T23:59:59Z",
                "not_before": "2025-02-26T00:00:00Z",
                "public_key_algorithm": "RSA",
                "serial_number": "17116409939091623039003775645841516079",
                "sha1_fingerprint": "9113c492911635f730e51f259f28873df5b7f01a",
                "signature_algorithm": "SHA256-RSA",
                "subject": "CN=*.eks.eu-west-2.amazonaws.com",
                "version": 3
              }
            ],
            "content": null,
            "id": "77f878887104bc97ce87a3d0fe39312e6535df5b",
            "url": "https://oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745",
            "verify_chain": true
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "csi-driver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addon_name": "aws-ebs-csi-driver",
            "addon_version": "v1.54.0-eksbuild.1",
            "arn": "arn:aws:eks:eu-west-2:038774803581:addon/eks-cluster/aws-ebs-csi-driver/26cdeb18-6a23-03d1-aed5-19ad4d49978f",
            "cluster_name": "eks-cluster",
            "configuration_values": "",
            "created_at": "2026-01-19T12:18:03Z",
            "id": "eks-cluster:aws-ebs-csi-driver",
            "modified_at": "2026-01-19T12:18:29Z",
            "pod_identity_association": [],
            "preserve": true,
            "resolve_conflicts": null,
            "resolve_conflicts_on_create": "OVERWRITE",
            "resolve_conflicts_on_update": "OVERWRITE",
            "service_account_role_arn": "arn:aws:iam::038774803581:role/ebs-csi-driver",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "kube-proxy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addon_name": "kube-proxy",
            "addon_version": "v1.30.14-eksbuild.8",
            "arn": "arn:aws:eks:eu-west-2:038774803581:addon/eks-cluster/kube-proxy/40cdeb17-8185-29ea-8fbd-99738dad932d",
            "cluster_name": "eks-cluster",
            "configuration_values": "",
            "created_at": "2026-01-19T12:16:04Z",
            "id": "eks-cluster:kube-proxy",
            "modified_at": "2026-01-19T12:16:11Z",
            "pod_identity_association": [],
            "preserve": null,
            "resolve_conflicts": null,
            "resolve_conflicts_on_create": null,
            "resolve_conflicts_on_update": "OVERWRITE",
            "service_account_role_arn": "",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "vpc-cni",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addon_name": "vpc-cni",
            "addon_version": "v1.20.4-eksbuild.2",
            "arn": "arn:aws:eks:eu-west-2:038774803581:addon/eks-cluster/vpc-cni/6ecdeb17-8185-580a-8ff8-0ac00fe9af16",
            "cluster_name": "eks-cluster",
            "configuration_values": "",
            "created_at": "2026-01-19T12:16:04Z",
            "id": "eks-cluster:vpc-cni",
            "modified_at": "2026-01-19T12:16:11Z",
            "pod_identity_association": [],
            "preserve": null,
            "resolve_conflicts": null,
            "resolve_conflicts_on_create": null,
            "resolve_conflicts_on_update": "OVERWRITE",
            "service_account_role_arn": "",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_eks_cluster",
      "name": "eks_cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "access_config": [
              {
                "authentication_mode": "API",
                "bootstrap_cluster_creator_admin_permissions": true
              }
            ],
            "arn": "arn:aws:eks:eu-west-2:038774803581:cluster/eks-cluster",
            "bootstrap_self_managed_addons": true,
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJYWx0TmI3dUNRT2N3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TmpBeE1Ua3hNakEyTWpSYUZ3MHpOakF4TVRjeE1qRXhNalJhTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUURnaHJoYTNNcEc1a1krU0xrNlNOMS9xRjVxbUZNd0R1SjVZQ1ZWM291dnhta0o5UHZGK3JuQVNYQWQKM0RvN09WM0IyYk5LUnNvRzdKQ0RjTllYb2hnbU95ZDNBckV0dXZZSHpPYXo5eXZEMmdUQWZUazhEWmo2YThJTQpnYjdwcUJHQTluVTFqQ1VOOHdpMytPVjNIM1Nxbzd5Y0FpZ3g2cElNclVReFBrbzA1dnhiVDZxWnc3MTVHUnpBClR5S0VFa2VnYVNGSmtrOTdnano4ckNvTk5mc3Era2t3LzMxZ2ZQUTg2Y1VxSWliMThTM29PWE9HZ3d4NGs0bVcKU1puSUczOEpmTnZrL1k5VjRHQnYxcWtVSm5NVDZwSmMrcGZyUHpSVS9iVVA3bEFoQ1ZrT3JOSnFEMmtnckdQTwoxQ0dia3lNL0RIa0hoUUJIVWVXWloyaFVhYzZiQWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJUV2l6TVJ3RDZXNytmODFadkF1UlMvZVZ5MWxUQVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQktaeGNWb0dmRwpEZ0xUWUFRcHNvK1ZvU1QwVVZpRW8wbmduOWNzc05TOC8wK3gzL3Zod2x0UmhMMWZyQjlUZXNpU3VJQ3BHd3VTCmlCQzF0MW1HM0ZEYW1Va0ZqTXFURGltVGFGeXlTOHJBNDFzUWZlZnZDemtIdlc0Q2x3VmxYR2MxVU5KcWhBU0kKQzZxY0tjMFpoVFRVZXJrRTNBQXF6bUdxSHQrZWhWVWUrSWtCVGJuQW0vMzN3YllkTE5mWlloY09SaDgyWnQrZwpqV21ocmtYSzVuMG10bysvQTlQbFIxN1JyQTFmWWg3VW1DZkNHMWVCbk9YVGJPaHJZZFdVUkx0aG8ycm1ZQUpjCk9hZy9RQk0rVVlPUkN0YTEvVUZDREFKYW4zOVVud0lpZEN1cUlHejJhK0FjM1AxcnB0Ynd4UFJLUjZjdjlaNSsKTndZd3FFd1Awa25RCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
              }
            ],
            "cluster_id": null,
            "compute_config": [],
            "created_at": "2026-01-19T12:06:59Z",
            "enabled_cluster_log_types": [],
            "encryption_config": [
              {
                "provider": [
                  {
                    "key_arn": "arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16"
                  }
                ],
                "resources": [
                  "secrets"
                ]
              }
            ],
            "endpoint": "https://7B1DCE4B0C4FDD511F901B97CA332745.gr7.eu-west-2.eks.amazonaws.com",
            "force_update_version": null,
            "id": "eks-cluster",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745"
                  }
                ]
              }
            ],
            "kubernetes_network_config": [
              {
                "elastic_load_balancing": [
                  {
                    "enabled": false
                  }
                ],
                "ip_family": "ipv4",
                "service_ipv4_cidr": "172.20.0.0/16",
                "service_ipv6_cidr": ""
              }
            ],
            "name": "eks-cluster",
            "outpost_config": [],
            "platform_version": "eks.57",
            "remote_network_config": [],
            "role_arn": "arn:aws:iam::038774803581:role/eks-cluster",
            "status": "ACTIVE",
            "storage_config": [],
            "tags": {
              "Environment": "labs",
              "Project": "eks-assignment"
            },
            "tags_all": {
              "Environment": "labs",
              "Project": "eks-assignment"
            },
            "timeouts": null,
            "upgrade_policy": [
              {
                "support_type": "EXTENDED"
              }
            ],
            "version": "1.30",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-0fed26755efa3a0b4",
                "endpoint_private_access": true,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": [],
                "subnet_ids": [
                  "subnet-03269bbd28a01dece",
                  "subnet-0d9675d31d97de8f0"
                ],
                "vpc_id": "vpc-0c2c905f1fae8df22"
              }
            ],
            "zonal_shift_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_eks_node_group",
      "name": "private_node_1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ami_type": "AL2023_x86_64_STANDARD",
            "arn": "arn:aws:eks:eu-west-2:038774803581:nodegroup/eks-cluster/eks-node-group-1/98cdeb17-81a3-3f6a-9405-a07d4cf47984",
            "capacity_type": "ON_DEMAND",
            "cluster_name": "eks-cluster",
            "disk_size": 20,
            "force_update_version": null,
            "id": "eks-cluster:eks-node-group-1",
            "instance_types": [
              "t3.medium"
            ],
            "labels": {
              "workload": "apps"
            },
            "launch_template": [],
            "node_group_name": "eks-node-group-1",
            "node_group_name_prefix": "",
            "node_repair_config": [],
            "node_role_arn": "arn:aws:iam::038774803581:role/eks-node-group",
            "release_version": "1.30.14-20260114",
            "remote_access": [],
            "resources": [
              {
                "autoscaling_groups": [
                  {
                    "name": "eks-eks-node-group-1-98cdeb17-81a3-3f6a-9405-a07d4cf47984"
                  }
                ],
                "remote_access_security_group_id": ""
              }
            ],
            "scaling_config": [
              {
                "desired_size": 2,
                "max_size": 3,
                "min_size": 1
              }
            ],
            "status": "ACTIVE",
            "subnet_ids": [
              "subnet-03269bbd28a01dece",
              "subnet-0d9675d31d97de8f0"
            ],
            "tags": {
              "kubernetes.io/cluster/eks-cluster": "owned"
            },
            "tags_all": {
              "kubernetes.io/cluster/eks-cluster": "owned"
            },
            "taint": [],
            "timeouts": null,
            "update_config": [
              {
                "max_unavailable": 1,
                "max_unavailable_percentage": 0
              }
            ],
            "version": "1.30"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_eks_node_group",
      "name": "private_node_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ami_type": "AL2023_x86_64_STANDARD",
            "arn": "arn:aws:eks:eu-west-2:038774803581:nodegroup/eks-cluster/eks-node-group-2/fecdeb17-819e-18fc-7153-ca9df9eaf9e8",
            "capacity_type": "ON_DEMAND",
            "cluster_name": "eks-cluster",
            "disk_size": 20,
            "force_update_version": null,
            "id": "eks-cluster:eks-node-group-2",
            "instance_types": [
              "t3.medium"
            ],
            "labels": {
              "app": "blue",
              "workload": "database"
            },
            "launch_template": [],
            "node_group_name": "eks-node-group-2",
            "node_group_name_prefix": "",
            "node_repair_config": [],
            "node_role_arn": "arn:aws:iam::038774803581:role/eks-node-group",
            "release_version": "1.30.14-20260114",
            "remote_access": [],
            "resources": [
              {
                "autoscaling_groups": [
                  {
                    "name": "eks-eks-node-group-2-fecdeb17-819e-18fc-7153-ca9df9eaf9e8"
                  }
                ],
                "remote_access_security_group_id": ""
              }
            ],
            "scaling_config": [
              {
                "desired_size": 2,
                "max_size": 3,
                "min_size": 1
              }
            ],
            "status": "ACTIVE",
            "subnet_ids": [
              "subnet-03269bbd28a01dece",
              "subnet-0d9675d31d97de8f0"
            ],
            "tags": {
              "kubernetes.io/cluster/eks-cluster": "owned"
            },
            "tags_all": {
              "kubernetes.io/cluster/eks-cluster": "owned"
            },
            "taint": [],
            "timeouts": null,
            "update_config": [
              {
                "max_unavailable": 1,
                "max_unavailable_percentage": 0
              }
            ],
            "version": "1.30"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_openid_connect_provider",
      "name": "eks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::038774803581:oidc-provider/oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745",
            "client_id_list": [
              "sts.amazonaws.com"
            ],
            "id": "arn:aws:iam::038774803581:oidc-provider/oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745",
            "tags": {},
            "tags_all": {},
            "thumbprint_list": [
              "06b25927c42a721631c1efd9431e648fa62e1e39"
            ],
            "url": "oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ebs_csi-driver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::038774803581:role/ebs-csi-driver",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745:aud\":\"sts.amazonaws.com\",\"oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745:sub\":\"system:serviceaccount:kube-system:ebs-csi-controller-sa\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::038774803581:oidc-provider/oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2026-01-19T12:16:04Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ebs-csi-driver",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy"
            ],
            "max_session_duration": 3600,
            "name": "ebs-csi-driver",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAQSBZIRR6YI7NFPYGN"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "storage",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ebs-csi-driver-20260119121604792800000007",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy",
            "role": "ebs-csi-driver"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.external-dns",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "external_dns",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::038774803581:role/iam-dns",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745:aud\":\"sts.amazonaws.com\",\"oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745:sub\":\"system:serviceaccount:external-dns:external-dns\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::038774803581:oidc-provider/oidc.eks.eu-west-2.amazonaws.com/id/7B1DCE4B0C4FDD511F901B97CA332745\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2026-01-19T12:24:20Z",
            "description": "",
            "force_detach_policies": false,
            "id": "iam-dns",
            "inline_policy": [
              {
                "name": "external-dns-route53-policy",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"route53:ChangeResourceRecordSets\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:route53:::hostedzone/*\"},{\"Action\":[\"route53:ListHostedZones\",\"route53:ListResourceRecordSets\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "iam-dns",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAQSBZIRR66EIV4IPEL"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.external-dns",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "external_dns_route53",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "iam-dns:external-dns-route53-policy",
            "name": "external-dns-route53-policy",
            "name_prefix": "",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"route53:ChangeResourceRecordSets\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:route53:::hostedzone/*\"},{\"Action\":[\"route53:ListHostedZones\",\"route53:ListResourceRecordSets\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}",
            "role": "iam-dns"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.external-dns",
      "mode": "managed",
      "type": "helm_release",
      "name": "external_dns",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "external-dns",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "external-dns",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "0.14.0",
                "chart": "external-dns",
                "name": "external-dns",
                "namespace": "external-dns",
                "revision": 1,
                "values": "{\"aws\":{\"region\":\"eu-west-2\"},\"provider\":\"aws\",\"serviceAccount\":{\"annotations\":{\"eks.amazonaws.com/role-arn\":\"arn:aws:iam::038774803581:role/iam-dns\"},\"create\":false,\"name\":\"external-dns\"}}",
                "version": "1.14.0"
              }
            ],
            "name": "external-dns",
            "namespace": "external-dns",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://kubernetes-sigs.github.io/external-dns/",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [
              {
                "name": "aws.region",
                "type": "",
                "value": "eu-west-2"
              },
              {
                "name": "provider",
                "type": "",
                "value": "aws"
              },
              {
                "name": "serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn",
                "type": "",
                "value": "arn:aws:iam::038774803581:role/iam-dns"
              },
              {
                "name": "serviceAccount.create",
                "type": "",
                "value": "false"
              },
              {
                "name": "serviceAccount.name",
                "type": "",
                "value": "external-dns"
              }
            ],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 600,
            "values": null,
            "verify": false,
            "version": "1.14.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.external-dns",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "external_dns_namespace",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/external-dns",
            "ignore_fields": null,
            "kind": "Namespace",
            "live_manifest_incluster": "115b49b76e3ca63d545b27c0dd5da520da2ce29d79ee21c025931cf2375857af",
            "live_uid": "06d0d970-6442-4206-b4b7-e9bcc54e7ff6",
            "name": "external-dns",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "06d0d970-6442-4206-b4b7-e9bcc54e7ff6",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: Namespace\r\nmetadata:\r\n  name: external-dns\r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: external-dns\n",
            "yaml_incluster": "115b49b76e3ca63d545b27c0dd5da520da2ce29d79ee21c025931cf2375857af"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.external-dns",
      "mode": "managed",
      "type": "kubernetes_service_account_v1",
      "name": "external_dns",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "automount_service_account_token": true,
            "default_secret_name": "",
            "id": "external-dns/external-dns",
            "image_pull_secret": [],
            "metadata": [
              {
                "annotations": {
                  "eks.amazonaws.com/role-arn": "arn:aws:iam::038774803581:role/iam-dns"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "external-dns",
                "namespace": "external-dns",
                "resource_version": "6007",
                "uid": "14f0e0c3-aceb-42cb-88b8-e5e0b1956397"
              }
            ],
            "secret": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "ServiceAccount",
            "name": "external-dns",
            "namespace": "external-dns"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "nodes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::038774803581:instance-profile/eks-node-group-profile",
            "create_date": "2026-01-19T12:01:44Z",
            "id": "eks-node-group-profile",
            "name": "eks-node-group-profile",
            "name_prefix": "",
            "path": "/",
            "role": "eks-node-group",
            "tags": {},
            "tags_all": {},
            "unique_id": "AIPAQSBZIRR67PVXZBWMW"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_role.nodes"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "vpc_flow_logs_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::038774803581:policy/vpc-flow-logs-cloudwatch-policy",
            "attachment_count": 1,
            "description": "",
            "id": "arn:aws:iam::038774803581:policy/vpc-flow-logs-cloudwatch-policy",
            "name": "vpc-flow-logs-cloudwatch-policy",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\",\"logs:DescribeLogGroups\",\"logs:DescribeLogStreams\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAQSBZIRR64DOUWXL2A",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::038774803581:role/eks-cluster",
            "assume_role_policy": "{\"Statement\":[{\"Action\":[\"sts:AssumeRole\",\"sts:TagSession\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2026-01-19T12:01:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "eks-cluster",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy"
            ],
            "max_session_duration": 3600,
            "name": "eks-cluster",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAQSBZIRR6QDOVI5GMK"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "nodes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::038774803581:role/eks-node-group",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2026-01-19T12:01:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "eks-node-group",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
              "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
              "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
              "arn:aws:iam::aws:policy/ElasticLoadBalancingFullAccess"
            ],
            "max_session_duration": 3600,
            "name": "eks-node-group",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAQSBZIRR6TKZUOLNKC"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "vpc_flow_logs_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::038774803581:role/cloud-watch",
            "assume_role_policy": "{\"Statement\":[{\"Action\":[\"sts:AssumeRole\",\"sts:TagSession\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"vpc-flow-logs.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2026-01-19T12:01:43Z",
            "description": "",
            "force_detach_policies": false,
            "id": "cloud-watch",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::038774803581:policy/vpc-flow-logs-cloudwatch-policy"
            ],
            "max_session_duration": 3600,
            "name": "cloud-watch",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAQSBZIRR63KTDGCFOM"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEC2ContainerRegistryReadOnly",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-node-group-20260119120143798400000003",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
            "role": "eks-node-group"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_role.nodes"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEKSWorkerNodePolicy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-node-group-20260119120143746100000002",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
            "role": "eks-node-group"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_role.nodes"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEKS_CNI_Policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-node-group-20260119120143834200000004",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
            "role": "eks-node-group"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_role.nodes"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cluster_AmazonEKSClusterPolicy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-cluster-20260119120143999100000006",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
            "role": "eks-cluster"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_role.cluster"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "node_group_elb_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-node-group-20260119120143745400000001",
            "policy_arn": "arn:aws:iam::aws:policy/ElasticLoadBalancingFullAccess",
            "role": "eks-node-group"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_role.nodes"
          ]
        }
      ]
    },
    {
      "module": "module.iam",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "vpc_flow_logs_attach",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "cloud-watch-20260119120143934300000005",
            "policy_arn": "arn:aws:iam::038774803581:policy/vpc-flow-logs-cloudwatch-policy",
            "role": "cloud-watch"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.vpc_flow_logs_role"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "apps_namespace",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/app-space",
            "ignore_fields": null,
            "kind": "Namespace",
            "live_manifest_incluster": "c2b5bcd09523e089d6bc31ddf3c30e5dbf8e4ada53c39b9b672368d50983ffd9",
            "live_uid": "114abfc4-8bbb-46d8-bc75-4eebfb550e7b",
            "name": "app-space",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "114abfc4-8bbb-46d8-bc75-4eebfb550e7b",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: Namespace\r\nmetadata:\r\n  name: app-space\r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: app-space\n",
            "yaml_incluster": "c2b5bcd09523e089d6bc31ddf3c30e5dbf8e4ada53c39b9b672368d50983ffd9"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "db_namespace",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/data-space",
            "ignore_fields": null,
            "kind": "Namespace",
            "live_manifest_incluster": "8928271c22c2ce03c0d366f7cdd64b3d15e17df18d5f5aaca09c9af5af3d508a",
            "live_uid": "b0c49acd-0063-4759-b36d-4d715005137c",
            "name": "data-space",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "b0c49acd-0063-4759-b36d-4d715005137c",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: Namespace\r\nmetadata:\r\n  name: data-space\r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: data-space\n",
            "yaml_incluster": "8928271c22c2ce03c0d366f7cdd64b3d15e17df18d5f5aaca09c9af5af3d508a"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "deployment_cart",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/app-space/deployments/robotshop-cart",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "247c46017dadfb6bfdff60133c7cd08f712dd0bac69766cf92c8fda2b518602f",
            "live_uid": "0c5883ff-0246-48f4-a572-3d6a73f49ac8",
            "name": "robotshop-cart",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "0c5883ff-0246-48f4-a572-3d6a73f49ac8",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: robotshop-cart\r\n  namespace: app-space\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: cart\r\n      color: green\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: cart\r\n        color: green\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - apps\r\n        podAntiAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            podAffinityTerm:\r\n              labelSelector:\r\n                matchLabels:\r\n                  app: cart\r\n                  color: green\r\n              topologyKey: kubernetes.io/hostname\r\n      topologySpreadConstraints:\r\n      - maxSkew: 1\r\n        topologyKey: topology.kubernetes.io/zone\r\n        whenUnsatisfiable: ScheduleAnyway\r\n        labelSelector:\r\n          matchLabels:\r\n            app: cart\r\n            color: green\r\n      containers:\r\n      - name: robot-app-cart\r\n        image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/cart:latest\r\n        imagePullPolicy: Always\r\n        ports:\r\n        - containerPort: 8080\r\n        resources:\r\n          requests:\r\n            cpu: \"100m\"\r\n            memory: \"128Mi\"\r\n          limits:\r\n            cpu: \"500m\"\r\n            memory: \"256Mi\"\r\n        livenessProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          initialDelaySeconds: 15\r\n          periodSeconds: 10\r\n        readinessProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          initialDelaySeconds: 15\r\n          periodSeconds: 10\r\n        startupProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          failureThreshold: 30\r\n          periodSeconds: 10\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: cart\r\n  namespace: app-space\r\nspec:\r\n  ports:\r\n  - name: http\r\n    port: 8080\r\n    targetPort: 8080\r\n  selector:\r\n    app: cart\r\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: robotshop-cart\n  namespace: app-space\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: cart\n      color: green\n  template:\n    metadata:\n      labels:\n        app: cart\n        color: green\n    spec:\n      affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - preference:\n              matchExpressions:\n              - key: workload\n                operator: In\n                values:\n                - apps\n            weight: 100\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app: cart\n                  color: green\n              topologyKey: kubernetes.io/hostname\n            weight: 100\n      containers:\n      - image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/cart:latest\n        imagePullPolicy: Always\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 15\n          periodSeconds: 10\n        name: robot-app-cart\n        ports:\n        - containerPort: 8080\n        readinessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 15\n          periodSeconds: 10\n        resources:\n          limits:\n            cpu: 500m\n            memory: 256Mi\n          requests:\n            cpu: 100m\n            memory: 128Mi\n        startupProbe:\n          failureThreshold: 30\n          httpGet:\n            path: /health\n            port: 8080\n          periodSeconds: 10\n      topologySpreadConstraints:\n      - labelSelector:\n          matchLabels:\n            app: cart\n            color: green\n        maxSkew: 1\n        topologyKey: topology.kubernetes.io/zone\n        whenUnsatisfiable: ScheduleAnyway\n",
            "yaml_incluster": "247c46017dadfb6bfdff60133c7cd08f712dd0bac69766cf92c8fda2b518602f"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.apps_namespace",
            "module.manifests.kubectl_manifest.resource_quota_appspace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "deployment_catalogue",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/app-space/deployments/robotshop-catalogue",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "eed0a7eb80064fd32357069a9525688a59c04ca7ecd079145d3305e578a31147",
            "live_uid": "fcc14c37-5804-4970-beac-2ce7e6016390",
            "name": "robotshop-catalogue",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "fcc14c37-5804-4970-beac-2ce7e6016390",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: robotshop-catalogue\r\n  namespace: app-space \r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: catalogue\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: catalogue\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - apps\r\n        podAntiAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            podAffinityTerm:\r\n              labelSelector:\r\n                matchLabels:\r\n                  app: catalogue\r\n                  color: green\r\n              topologyKey: kubernetes.io/hostname\r\n      topologySpreadConstraints:\r\n      - maxSkew: 1\r\n        topologyKey: topology.kubernetes.io/zone\r\n        whenUnsatisfiable: ScheduleAnyway\r\n        labelSelector:\r\n          matchLabels:\r\n            app: catalogue\r\n      containers:\r\n      - name: robot-app-catalogue\r\n        image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/catalogue:latest\r\n        imagePullPolicy: Always\r\n        ports:\r\n        - containerPort: 8080\r\n        resources:\r\n          requests:\r\n            cpu: \"100m\"\r\n            memory: \"128Mi\"\r\n          limits:\r\n            cpu: \"500m\"\r\n            memory: \"256Mi\"\r\n        livenessProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          initialDelaySeconds: 15\r\n          periodSeconds: 10\r\n        readinessProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          initialDelaySeconds: 15\r\n          periodSeconds: 10\r\n        startupProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          failureThreshold: 30\r\n          periodSeconds: 10\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: catalogue\r\n  namespace: app-space\r\nspec:\r\n  ports:\r\n  - name: http\r\n    port: 8080\r\n    targetPort: 8080\r\n  selector:\r\n    app: catalogue\r\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: robotshop-catalogue\n  namespace: app-space\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: catalogue\n  template:\n    metadata:\n      labels:\n        app: catalogue\n    spec:\n      affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - preference:\n              matchExpressions:\n              - key: workload\n                operator: In\n                values:\n                - apps\n            weight: 100\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app: catalogue\n                  color: green\n              topologyKey: kubernetes.io/hostname\n            weight: 100\n      containers:\n      - image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/catalogue:latest\n        imagePullPolicy: Always\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 15\n          periodSeconds: 10\n        name: robot-app-catalogue\n        ports:\n        - containerPort: 8080\n        readinessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 15\n          periodSeconds: 10\n        resources:\n          limits:\n            cpu: 500m\n            memory: 256Mi\n          requests:\n            cpu: 100m\n            memory: 128Mi\n        startupProbe:\n          failureThreshold: 30\n          httpGet:\n            path: /health\n            port: 8080\n          periodSeconds: 10\n      topologySpreadConstraints:\n      - labelSelector:\n          matchLabels:\n            app: catalogue\n        maxSkew: 1\n        topologyKey: topology.kubernetes.io/zone\n        whenUnsatisfiable: ScheduleAnyway\n",
            "yaml_incluster": "eed0a7eb80064fd32357069a9525688a59c04ca7ecd079145d3305e578a31147"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.apps_namespace",
            "module.manifests.kubectl_manifest.resource_quota_appspace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "deployment_dispatch",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/app-space/deployments/robotshop-dispatch",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "4ed8f65f4c8eb5811793d14b005f0667f580d29dd5aeacc183f1b07c96948780",
            "live_uid": "59db46f5-3e11-4804-92f6-f2ba88641180",
            "name": "robotshop-dispatch",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "59db46f5-3e11-4804-92f6-f2ba88641180",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: robotshop-dispatch\r\n  namespace: app-space\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: dispatch\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: dispatch\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - apps\r\n        podAntiAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            podAffinityTerm:\r\n              labelSelector:\r\n                matchLabels:\r\n                  app: dispatch\r\n                  color: green\r\n              topologyKey: kubernetes.io/hostname\r\n      topologySpreadConstraints:\r\n      - maxSkew: 1\r\n        topologyKey: topology.kubernetes.io/zone\r\n        whenUnsatisfiable: ScheduleAnyway\r\n        labelSelector:\r\n          matchLabels:\r\n            app: dispatch\r\n      containers:\r\n      - name: robot-app-dispatch\r\n        image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/dispatch:v1\r\n        imagePullPolicy: Always\r\n        resources:\r\n          requests:\r\n            cpu: \"100m\"\r\n            memory: \"128Mi\"\r\n          limits:\r\n            cpu: \"500m\"\r\n            memory: \"256Mi\"\r\n\r\n\r\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: robotshop-dispatch\n  namespace: app-space\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: dispatch\n  template:\n    metadata:\n      labels:\n        app: dispatch\n    spec:\n      affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - preference:\n              matchExpressions:\n              - key: workload\n                operator: In\n                values:\n                - apps\n            weight: 100\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app: dispatch\n                  color: green\n              topologyKey: kubernetes.io/hostname\n            weight: 100\n      containers:\n      - image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/dispatch:v1\n        imagePullPolicy: Always\n        name: robot-app-dispatch\n        resources:\n          limits:\n            cpu: 500m\n            memory: 256Mi\n          requests:\n            cpu: 100m\n            memory: 128Mi\n      topologySpreadConstraints:\n      - labelSelector:\n          matchLabels:\n            app: dispatch\n        maxSkew: 1\n        topologyKey: topology.kubernetes.io/zone\n        whenUnsatisfiable: ScheduleAnyway\n",
            "yaml_incluster": "4ed8f65f4c8eb5811793d14b005f0667f580d29dd5aeacc183f1b07c96948780"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.apps_namespace",
            "module.manifests.kubectl_manifest.resource_quota_appspace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "deployment_payment",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/app-space/deployments/robotshop-payment",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "d58db8d1e50289ef587244cef39793b5d4f5ec4a3f76502f8b7156cb37b81013",
            "live_uid": "4ef3780a-ed24-4c81-a42a-2181e6bd89d0",
            "name": "robotshop-payment",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "4ef3780a-ed24-4c81-a42a-2181e6bd89d0",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: robotshop-payment\r\n  namespace: app-space\r\nspec:\r\n  replicas: 2\r\n  strategy:\r\n    type: RollingUpdate\r\n    rollingUpdate:\r\n      maxSurge: 1\r\n      maxUnavailable: 0\r\n  selector:\r\n    matchLabels:\r\n      app: robotshop-payment\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: robotshop-payment\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - apps\r\n        podAntiAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            podAffinityTerm:\r\n              labelSelector:\r\n                matchLabels:\r\n                  app: robotshop-payment\r\n                  color: green\r\n              topologyKey: kubernetes.io/hostname\r\n      topologySpreadConstraints:\r\n      - maxSkew: 1\r\n        topologyKey: topology.kubernetes.io/zone\r\n        whenUnsatisfiable: ScheduleAnyway\r\n        labelSelector:\r\n          matchLabels:\r\n            app: robotshop-payment\r\n      containers:\r\n      - name: robot-app-payment\r\n        image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/payment:v1\r\n        imagePullPolicy: Always\r\n        ports:\r\n        - containerPort: 8080\r\n        resources:\r\n          requests:\r\n            cpu: \"100m\"\r\n            memory: \"128Mi\"\r\n          limits:\r\n            cpu: \"500m\"\r\n            memory: \"256Mi\"\r\n        livenessProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          initialDelaySeconds: 15\r\n          periodSeconds: 10\r\n        readinessProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          initialDelaySeconds: 15\r\n          periodSeconds: 10\r\n        startupProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          failureThreshold: 30\r\n          periodSeconds: 10\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: payment\r\n  namespace: app-space\r\nspec:\r\n  selector:\r\n    app: robotshop-payment\r\n  ports:\r\n  - name: http\r\n    port: 8080\r\n    targetPort: 8080\r\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: robotshop-payment\n  namespace: app-space\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: robotshop-payment\n  strategy:\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 0\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: robotshop-payment\n    spec:\n      affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - preference:\n              matchExpressions:\n              - key: workload\n                operator: In\n                values:\n                - apps\n            weight: 100\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app: robotshop-payment\n                  color: green\n              topologyKey: kubernetes.io/hostname\n            weight: 100\n      containers:\n      - image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/payment:v1\n        imagePullPolicy: Always\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 15\n          periodSeconds: 10\n        name: robot-app-payment\n        ports:\n        - containerPort: 8080\n        readinessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 15\n          periodSeconds: 10\n        resources:\n          limits:\n            cpu: 500m\n            memory: 256Mi\n          requests:\n            cpu: 100m\n            memory: 128Mi\n        startupProbe:\n          failureThreshold: 30\n          httpGet:\n            path: /health\n            port: 8080\n          periodSeconds: 10\n      topologySpreadConstraints:\n      - labelSelector:\n          matchLabels:\n            app: robotshop-payment\n        maxSkew: 1\n        topologyKey: topology.kubernetes.io/zone\n        whenUnsatisfiable: ScheduleAnyway\n",
            "yaml_incluster": "d58db8d1e50289ef587244cef39793b5d4f5ec4a3f76502f8b7156cb37b81013"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.apps_namespace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "deployment_ratings",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/app-space/deployments/robotshop-ratings",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "d1024b344665ba9e918adf7b77ea3247293bb78a8b6090324509b764658c64de",
            "live_uid": "75902cd7-196b-4ae8-9e16-9a7356535045",
            "name": "robotshop-ratings",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "75902cd7-196b-4ae8-9e16-9a7356535045",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: robotshop-ratings\r\n  namespace: app-space\r\nspec:\r\n  replicas: 2\r\n  strategy:\r\n    type: RollingUpdate\r\n    rollingUpdate:\r\n      maxSurge: 1\r\n      maxUnavailable: 0\r\n  selector:\r\n    matchLabels:\r\n      app: robotshop-ratings\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: robotshop-ratings\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - apps\r\n        podAntiAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            podAffinityTerm:\r\n              labelSelector:\r\n                matchLabels:\r\n                  app: robotshop-ratings\r\n                  color: green\r\n              topologyKey: kubernetes.io/hostname\r\n      topologySpreadConstraints:\r\n      - maxSkew: 1\r\n        topologyKey: topology.kubernetes.io/zone\r\n        whenUnsatisfiable: ScheduleAnyway\r\n        labelSelector:\r\n          matchLabels:\r\n            app: robotshop-ratings\r\n      containers:\r\n      - name: robot-app-ratings\r\n        image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/ratings:v1\r\n        imagePullPolicy: Always\r\n        ports:\r\n        - containerPort: 80\r\n        resources:\r\n          requests:\r\n            cpu: \"100m\"\r\n            memory: \"128Mi\"\r\n          limits:\r\n            cpu: \"500m\"\r\n            memory: \"256Mi\"\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: ratings\r\n  namespace: app-space\r\nspec:\r\n  ports:\r\n  - name: http\r\n    port: 80\r\n    targetPort: 80\r\n  selector:\r\n    app: robotshop-ratings\r\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: robotshop-ratings\n  namespace: app-space\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: robotshop-ratings\n  strategy:\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 0\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: robotshop-ratings\n    spec:\n      affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - preference:\n              matchExpressions:\n              - key: workload\n                operator: In\n                values:\n                - apps\n            weight: 100\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app: robotshop-ratings\n                  color: green\n              topologyKey: kubernetes.io/hostname\n            weight: 100\n      containers:\n      - image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/ratings:v1\n        imagePullPolicy: Always\n        name: robot-app-ratings\n        ports:\n        - containerPort: 80\n        resources:\n          limits:\n            cpu: 500m\n            memory: 256Mi\n          requests:\n            cpu: 100m\n            memory: 128Mi\n      topologySpreadConstraints:\n      - labelSelector:\n          matchLabels:\n            app: robotshop-ratings\n        maxSkew: 1\n        topologyKey: topology.kubernetes.io/zone\n        whenUnsatisfiable: ScheduleAnyway\n",
            "yaml_incluster": "d1024b344665ba9e918adf7b77ea3247293bb78a8b6090324509b764658c64de"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.apps_namespace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "deployment_shipping",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "status": "tainted",
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/app-space/deployments/robotshop-shipping",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "dd6d634d229ffd251488c6d17f8870914b35a3898792b5b3930ff7585a9fc18b",
            "live_uid": "a12c5587-6d65-4a44-acf9-be94769956c4",
            "name": "robotshop-shipping",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "a12c5587-6d65-4a44-acf9-be94769956c4",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: robotshop-shipping\r\n  namespace: app-space\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: shipping\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: shipping\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - apps\r\n        podAntiAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            podAffinityTerm:\r\n              labelSelector:\r\n                matchLabels:\r\n                  app: shipping\r\n                  color: green\r\n              topologyKey: kubernetes.io/hostname\r\n      topologySpreadConstraints:\r\n      - maxSkew: 1\r\n        topologyKey: topology.kubernetes.io/zone\r\n        whenUnsatisfiable: ScheduleAnyway\r\n        labelSelector:\r\n          matchLabels:\r\n            app: shipping\r\n      containers:\r\n      - name: robot-app-shipping\r\n        image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/shipping:v1\r\n        imagePullPolicy: Always\r\n        ports:\r\n        - containerPort: 8080\r\n        resources:\r\n          requests:\r\n            cpu: \"100m\"\r\n            memory: \"500Mi\"\r\n          limits:\r\n            cpu: \"200m\"\r\n            memory: \"1000Mi\"\r\n        livenessProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          initialDelaySeconds: 15\r\n          periodSeconds: 10\r\n        readinessProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          initialDelaySeconds: 15\r\n          periodSeconds: 10\r\n        startupProbe:\r\n          httpGet:\r\n            path: /health\r\n            port: 8080\r\n          initialDelaySeconds: 20\r\n          failureThreshold: 30\r\n          periodSeconds: 10\r\n      \r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: shipping\r\n  namespace: app-space\r\nspec:\r\n  ports:\r\n  - name: http\r\n    port: 8080\r\n    targetPort: 8080\r\n  selector:\r\n    app: shipping\r\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: robotshop-shipping\n  namespace: app-space\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: shipping\n  template:\n    metadata:\n      labels:\n        app: shipping\n    spec:\n      affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - preference:\n              matchExpressions:\n              - key: workload\n                operator: In\n                values:\n                - apps\n            weight: 100\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app: shipping\n                  color: green\n              topologyKey: kubernetes.io/hostname\n            weight: 100\n      containers:\n      - image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/shipping:v1\n        imagePullPolicy: Always\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 15\n          periodSeconds: 10\n        name: robot-app-shipping\n        ports:\n        - containerPort: 8080\n        readinessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 15\n          periodSeconds: 10\n        resources:\n          limits:\n            cpu: 200m\n            memory: 1000Mi\n          requests:\n            cpu: 100m\n            memory: 500Mi\n        startupProbe:\n          failureThreshold: 30\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 20\n          periodSeconds: 10\n      topologySpreadConstraints:\n      - labelSelector:\n          matchLabels:\n            app: shipping\n        maxSkew: 1\n        topologyKey: topology.kubernetes.io/zone\n        whenUnsatisfiable: ScheduleAnyway\n",
            "yaml_incluster": "dd6d634d229ffd251488c6d17f8870914b35a3898792b5b3930ff7585a9fc18b"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.apps_namespace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "deployment_user",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/app-space/deployments/robotshop.user",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "384fbb6e5168789946d49c223d32bdab6fec7cb2dcfc64dbc3d4087caa3c614d",
            "live_uid": "e3136a84-36e1-4571-8165-71d75a859aa7",
            "name": "robotshop.user",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "e3136a84-36e1-4571-8165-71d75a859aa7",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: robotshop.user\r\n  namespace: app-space\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: user\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: user\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - apps\r\n        podAntiAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            podAffinityTerm:\r\n              labelSelector:\r\n                matchLabels:\r\n                  app: user\r\n                  color: green\r\n              topologyKey: kubernetes.io/hostname\r\n      topologySpreadConstraints:\r\n      - maxSkew: 1\r\n        topologyKey: topology.kubernetes.io/zone\r\n        whenUnsatisfiable: ScheduleAnyway\r\n        labelSelector:\r\n          matchLabels:\r\n            app: user\r\n      containers:\r\n      - name: robot-app-user\r\n        image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/user:v1\r\n        imagePullPolicy: Always\r\n        ports:\r\n        - containerPort: 8080\r\n        resources:\r\n          requests:\r\n            cpu: \"100m\"\r\n            memory: \"128Mi\"\r\n          limits:\r\n            cpu: \"500m\"\r\n            memory: \"256Mi\"\r\n      \r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: user\r\n  namespace: app-space\r\nspec:\r\n  ports:\r\n  - name: http\r\n    port: 8080\r\n    targetPort: 8080\r\n  selector:\r\n    app: user\r\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: robotshop.user\n  namespace: app-space\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: user\n  template:\n    metadata:\n      labels:\n        app: user\n    spec:\n      affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - preference:\n              matchExpressions:\n              - key: workload\n                operator: In\n                values:\n                - apps\n            weight: 100\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app: user\n                  color: green\n              topologyKey: kubernetes.io/hostname\n            weight: 100\n      containers:\n      - image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/user:v1\n        imagePullPolicy: Always\n        name: robot-app-user\n        ports:\n        - containerPort: 8080\n        resources:\n          limits:\n            cpu: 500m\n            memory: 256Mi\n          requests:\n            cpu: 100m\n            memory: 128Mi\n      topologySpreadConstraints:\n      - labelSelector:\n          matchLabels:\n            app: user\n        maxSkew: 1\n        topologyKey: topology.kubernetes.io/zone\n        whenUnsatisfiable: ScheduleAnyway\n",
            "yaml_incluster": "384fbb6e5168789946d49c223d32bdab6fec7cb2dcfc64dbc3d4087caa3c614d"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.apps_namespace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "deployment_web",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/app-space/deployments/web",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "fa6703d3037b85b646e13c62e258881f27074876271df3dbda4334b36750528c",
            "live_uid": "b57d5dee-44af-4d94-91fd-38cab40abd72",
            "name": "web",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "b57d5dee-44af-4d94-91fd-38cab40abd72",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: web\r\n  namespace: app-space\r\n  labels:\r\n    app: web\r\nspec:\r\n  replicas: 2\r\n  strategy:\r\n    type: RollingUpdate\r\n    rollingUpdate:\r\n      maxSurge: 1\r\n      maxUnavailable: 0\r\n  selector:\r\n    matchLabels:\r\n      app: web\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: web\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - apps\r\n        podAntiAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            podAffinityTerm:\r\n              labelSelector:\r\n                matchLabels:\r\n                  app: robotshop-web\r\n                  color: green\r\n              topologyKey: kubernetes.io/hostname\r\n      topologySpreadConstraints:\r\n      - maxSkew: 1\r\n        topologyKey: topology.kubernetes.io/zone\r\n        whenUnsatisfiable: ScheduleAnyway\r\n        labelSelector:\r\n          matchLabels:\r\n            app: web\r\n      containers:\r\n      - name: robot-app-web\r\n        image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/web:v1\r\n        imagePullPolicy: Always\r\n        ports:\r\n        - containerPort: 8080\r\n        resources:\r\n          requests:\r\n            cpu: \"100m\"\r\n            memory: \"60Mi\"\r\n          limits:\r\n            cpu: \"200m\"\r\n            memory: \"100Mi\"\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: web\r\n  namespace: app-space\r\nspec:\r\n  ports:\r\n  - name: http\r\n    port: 8080\r\n    targetPort: 8080\r\n  selector:\r\n    app: web\r\n",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: web\n  name: web\n  namespace: app-space\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: web\n  strategy:\n    rollingUpdate:\n      maxSurge: 1\n      maxUnavailable: 0\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: web\n    spec:\n      affinity:\n        nodeAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - preference:\n              matchExpressions:\n              - key: workload\n                operator: In\n                values:\n                - apps\n            weight: 100\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app: robotshop-web\n                  color: green\n              topologyKey: kubernetes.io/hostname\n            weight: 100\n      containers:\n      - image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/web:v1\n        imagePullPolicy: Always\n        name: robot-app-web\n        ports:\n        - containerPort: 8080\n        resources:\n          limits:\n            cpu: 200m\n            memory: 100Mi\n          requests:\n            cpu: 100m\n            memory: 60Mi\n      topologySpreadConstraints:\n      - labelSelector:\n          matchLabels:\n            app: web\n        maxSkew: 1\n        topologyKey: topology.kubernetes.io/zone\n        whenUnsatisfiable: ScheduleAnyway\n",
            "yaml_incluster": "fa6703d3037b85b646e13c62e258881f27074876271df3dbda4334b36750528c"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.apps_namespace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "ingress",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "networking.k8s.io/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/networking.k8s.io/v1/namespaces/app-space/ingresses/my-ingress",
            "ignore_fields": null,
            "kind": "Ingress",
            "live_manifest_incluster": "50b44c447c08d029b20fb3350fa6c2acb124ab894311f9b1921b932ec2e44f58",
            "live_uid": "c3d5bf9b-cc36-4889-8401-dfc4d5d304e4",
            "name": "my-ingress",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "c3d5bf9b-cc36-4889-8401-dfc4d5d304e4",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: networking.k8s.io/v1\r\nkind: Ingress\r\nmetadata:\r\n  name: my-ingress\r\n  namespace: app-space\r\n  annotations:\r\n    cert-manager.io/cluster-issuer: letsencrypt-prod\r\n    external-dns.alpha.kubernetes.io/hostname: mubashir.site\r\n    nginx.ingress.kubernetes.io/ssl-redirect: \"false\"\r\nspec:\r\n  ingressClassName: nginx\r\n  tls:\r\n  - hosts:\r\n      - mubashir.site\r\n    secretName: mubashir-site-tls\r\n  rules:\r\n    - host: mubashir.site\r\n      http: \r\n        paths:\r\n          - path: /\r\n            pathType: Prefix\r\n            backend:\r\n              service:\r\n                name: web\r\n                port:\r\n                  number: 80\r\n",
            "yaml_body_parsed": "apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    external-dns.alpha.kubernetes.io/hostname: mubashir.site\n    nginx.ingress.kubernetes.io/ssl-redirect: \"false\"\n  name: my-ingress\n  namespace: app-space\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: mubashir.site\n    http:\n      paths:\n      - backend:\n          service:\n            name: web\n            port:\n              number: 80\n        path: /\n        pathType: Prefix\n  tls:\n  - hosts:\n    - mubashir.site\n    secretName: mubashir-site-tls\n",
            "yaml_incluster": "50b44c447c08d029b20fb3350fa6c2acb124ab894311f9b1921b932ec2e44f58"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "mongo_statefulset",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/data-space/services/mongo",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "9bd2ad801e7c493eca7edaca674ae73a1a86fcd6f97fff20507ab78d934f53f5",
            "live_uid": "b25a0562-8e36-4453-bb40-4b40f2ae21e9",
            "name": "mongo",
            "namespace": "data-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "b25a0562-8e36-4453-bb40-4b40f2ae21e9",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "    apiVersion: v1\r\n    kind: Service\r\n    metadata:\r\n      name: mongo\r\n      namespace: data-space\r\n      labels:\r\n        app: mongo\r\n    spec:\r\n      clusterIP: None\r\n      selector:\r\n        app: mongo\r\n      ports: \r\n      - port: 27017\r\n        targetPort: 27017\r\n---\r\napiVersion: apps/v1\r\nkind: StatefulSet\r\nmetadata:\r\n  name: mongo\r\n  namespace: data-space\r\nspec:\r\n  serviceName: mongo              \r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: mongo\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: mongo\r\n    spec:\r\n     affinity:\r\n       nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - database\r\n      containers:\r\n        - name: mongo\r\n          image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/mongo:v1\r\n          ports:\r\n            - containerPort: 27017\r\n          volumeMounts:\r\n            - name: mongo-persistent-storage\r\n              mountPath: /data/db\r\n  volumeClaimTemplates:\r\n  - metadata:\r\n      name: mongo-persistent-storage\r\n      spec:\r\n        accessModes: [\"ReadWriteOnce\"]\r\n        storageClassName: mongo-gp3\r\n        resources:\r\n          requests:\r\n            storage: 10Gi\r\n    \r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    app: mongo\n  name: mongo\n  namespace: data-space\nspec:\n  clusterIP: None\n  ports:\n  - port: 27017\n    targetPort: 27017\n  selector:\n    app: mongo\n",
            "yaml_incluster": "9bd2ad801e7c493eca7edaca674ae73a1a86fcd6f97fff20507ab78d934f53f5"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "mongo_storageclass",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "storage.k8s.io/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/storage.k8s.io/v1/storageclasses/mongo-gp3",
            "ignore_fields": null,
            "kind": "StorageClass",
            "live_manifest_incluster": "0cb88aea27f028b075aeb6e00c2f7078a3051730e3bf05797e9dbb0087218a4d",
            "live_uid": "423c3dc5-fbb2-40df-818d-573ca784fdd8",
            "name": "mongo-gp3",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "423c3dc5-fbb2-40df-818d-573ca784fdd8",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "\r\napiVersion: storage.k8s.io/v1\r\nkind: StorageClass\r\nmetadata:\r\n  name: mongo-gp3\r\nprovisioner: ebs.csi.aws.com\r\nvolumeBindingMode: WaitForFirstConsumer\r\nparameters:\r\n  type: gp3\r\n  encrypted: \"true\"\r\n  kmsKeyId:  arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16\r\n\r\n",
            "yaml_body_parsed": "apiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: mongo-gp3\nparameters:\n  encrypted: \"true\"\n  kmsKeyId: arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16\n  type: gp3\nprovisioner: ebs.csi.aws.com\nvolumeBindingMode: WaitForFirstConsumer\n",
            "yaml_incluster": "0cb88aea27f028b075aeb6e00c2f7078a3051730e3bf05797e9dbb0087218a4d"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "mysql_secret",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/default/secrets/mysql-secret",
            "ignore_fields": null,
            "kind": "Secret",
            "live_manifest_incluster": "3b19b9d113c131aab6aa88bb6ab70dc92d5459b7b72db8b1811c403f90c55c0c",
            "live_uid": "1d03dea4-4204-432f-bedd-786aa59b1c22",
            "name": "mysql-secret",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "1d03dea4-4204-432f-bedd-786aa59b1c22",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: Secret\r\nmetadata:\r\n  name: mysql-secret\r\ntype: Opaque\r\nstringData:\r\n  root-password: secret\r\n  user-password: shipping\r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Secret\nmetadata:\n  name: mysql-secret\nstringData:\n  root-password: secret\n  user-password: shipping\ntype: Opaque\n",
            "yaml_incluster": "3b19b9d113c131aab6aa88bb6ab70dc92d5459b7b72db8b1811c403f90c55c0c"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "mysql_statefulset",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/app-space/services/mysql",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "ca59cc0cfc4c89288f205146a19b0d4f307f5cfb22178d5f790bc71afc920409",
            "live_uid": "d871c033-0a39-48f6-85a4-83cb6e5602e7",
            "name": "mysql",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "d871c033-0a39-48f6-85a4-83cb6e5602e7",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: mysql\r\n  namespace: app-space\r\nspec:\r\n  clusterIP: None\r\n  selector:\r\n    app: mysql\r\n  ports:\r\n  - port: 3306\r\n    targetPort: 3306\r\n---\r\napiVersion: apps/v1\r\nkind: StatefulSet\r\nmetadata:\r\n  name: mysql\r\n  namespace: app-space\r\nspec:\r\n  serviceName: mysql\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: mysql\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: mysql\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - database\r\n      containers:\r\n      - name: mysql\r\n        image: 038774803581.dkr.ecr.eu-west-2.amazonaws.com/mysql:v1\r\n        ports:\r\n        - containerPort: 3306\r\n          name: mysql\r\n        env:\r\n        - name: MYSQL_DATABASE\r\n          value: cities\r\n        - name: MYSQL_ROOT_PASSWORD\r\n          valueFrom:\r\n            secretKeyRef:\r\n              name: mysql-secret\r\n              key: root-password\r\n        - name: MYSQL_USER\r\n          value: shipping\r\n        - name: MYSQL_PASSWORD\r\n          valueFrom:\r\n            secretKeyRef:\r\n              name: mysql-secret\r\n              key: user-password\r\n\r\n        volumeMounts:\r\n        - name: mysql-data\r\n          mountPath: /var/lib/mysql\r\n\r\n        \r\n        startupProbe:\r\n          exec:\r\n            command:\r\n              - sh\r\n              - -c\r\n              - mysqladmin ping -h localhost --silent\r\n          failureThreshold: 30\r\n          periodSeconds: 10\r\n\r\n        readinessProbe:\r\n          exec:\r\n            command:\r\n              - sh\r\n              - -c\r\n              - mysqladmin ping -h localhost --silent\r\n          initialDelaySeconds: 20\r\n          periodSeconds: 10\r\n\r\n  volumeClaimTemplates:\r\n  - metadata:\r\n      name: mysql-data\r\n    spec:\r\n      accessModes:\r\n      - ReadWriteOnce\r\n      storageClassName: mysql-gp3\r\n      resources:\r\n        requests:\r\n          storage: 10Gi\r\n\r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: mysql\n  namespace: app-space\nspec:\n  clusterIP: None\n  ports:\n  - port: 3306\n    targetPort: 3306\n  selector:\n    app: mysql\n",
            "yaml_incluster": "ca59cc0cfc4c89288f205146a19b0d4f307f5cfb22178d5f790bc71afc920409"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.db_namespace",
            "module.manifests.kubectl_manifest.mysql_storageclass",
            "module.manifests.kubectl_manifest.resource_quota_dataspace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "mysql_storageclass",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "storage.k8s.io/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/storage.k8s.io/v1/storageclasses/mysql-gp3",
            "ignore_fields": null,
            "kind": "StorageClass",
            "live_manifest_incluster": "12eef5af3cb8268884411a24446ca02ea5fe428aa62a9a5a024b3fea56d47379",
            "live_uid": "1b86b3ae-50e3-4994-9b0a-6f2449af08a7",
            "name": "mysql-gp3",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "1b86b3ae-50e3-4994-9b0a-6f2449af08a7",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: storage.k8s.io/v1\r\nkind: StorageClass\r\nmetadata:\r\n  name: mysql-gp3\r\nprovisioner: ebs.csi.aws.com\r\nvolumeBindingMode: WaitForFirstConsumer\r\nparameters:\r\n  type: gp3\r\n  encrypted: \"true\"\r\n  kmsKeyId: arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16\r\n",
            "yaml_body_parsed": "apiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: mysql-gp3\nparameters:\n  encrypted: \"true\"\n  kmsKeyId: arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16\n  type: gp3\nprovisioner: ebs.csi.aws.com\nvolumeBindingMode: WaitForFirstConsumer\n",
            "yaml_incluster": "12eef5af3cb8268884411a24446ca02ea5fe428aa62a9a5a024b3fea56d47379"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "rabbitmq_deployment",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/data-space/services/rabbitmq",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "e380d12f146a3fe96bd1fa0bc9f72da9afae11428a0bcd4641a6410824098347",
            "live_uid": "331b1bb9-27e0-4d64-8d66-6806b6abf318",
            "name": "rabbitmq",
            "namespace": "data-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "331b1bb9-27e0-4d64-8d66-6806b6abf318",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: rabbitmq\r\n  namespace: data-space\r\nspec:\r\n  selector:\r\n    app: rabbitmq\r\n  ports:\r\n    - protocol: TCP\r\n      port: 5672\r\n      targetPort: 5672\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: rabbitmq\r\n  namespace: data-space\r\nspec:\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: rabbitmq\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: rabbitmq\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - database\r\n      containers:\r\n      - name: rabbitmq\r\n        image: rabbitmq:3.8-management-alpine\r\n        ports:\r\n        - containerPort: 5672\r\n        resources:\r\n          requests:\r\n            cpu: \"100m\"\r\n            memory: \"128Mi\"\r\n          limits:\r\n            cpu: \"500m\"\r\n            memory: \"256Mi\"\r\n   \r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: rabbitmq\n  namespace: data-space\nspec:\n  ports:\n  - port: 5672\n    protocol: TCP\n    targetPort: 5672\n  selector:\n    app: rabbitmq\n",
            "yaml_incluster": "e380d12f146a3fe96bd1fa0bc9f72da9afae11428a0bcd4641a6410824098347"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "redis_configmap",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/default/configmaps/redis-config",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "a33ebb41fb2bd77f0c0f676d54cad79ceed2c711194dc3bc94b01d1317a54f1d",
            "live_uid": "7fa9eba7-1013-49ec-9e87-62a5555b33eb",
            "name": "redis-config",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "7fa9eba7-1013-49ec-9e87-62a5555b33eb",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "\r\napiVersion: v1\r\nkind: ConfigMap\r\nmetadata:\r\n  name: redis-config\r\ndata:\r\n  redis.conf: |\r\n    appendonly yes\r\n    appendfsync everysec\r\n\r\n",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  redis.conf: |\n    appendonly yes\n    appendfsync everysec\nkind: ConfigMap\nmetadata:\n  name: redis-config\n",
            "yaml_incluster": "a33ebb41fb2bd77f0c0f676d54cad79ceed2c711194dc3bc94b01d1317a54f1d"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "redis_statefulset",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/data-space/services/redis",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "a12d1b19cddd912d866d6cba39485f1ec36db35975ad36ede5354e1d7a56bc55",
            "live_uid": "e34c2221-575d-45a0-bf9d-f4cdaca13830",
            "name": "redis",
            "namespace": "data-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "e34c2221-575d-45a0-bf9d-f4cdaca13830",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: redis\r\n  namespace: data-space\r\n  labels:\r\n    app: redis\r\nspec:\r\n  clusterIP: None\r\n  selector:\r\n    app: redis\r\n  ports:\r\n  - port: 6379\r\n    targetPort: 6379\r\n---\r\napiVersion: apps/v1\r\nkind: StatefulSet\r\nmetadata:\r\n  name: redis\r\n  namespace: data-space\r\nspec:\r\n  serviceName: redis\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: redis\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: redis\r\n    spec:\r\n      affinity:\r\n        nodeAffinity:\r\n          preferredDuringSchedulingIgnoredDuringExecution:\r\n          - weight: 100\r\n            preference:\r\n              matchExpressions:\r\n              - key: workload\r\n                operator: In\r\n                values:\r\n                - database\r\n      containers:\r\n      - name: redis\r\n        image: redis:6.2-alpine\r\n        command: [\"redis-server\", \"/usr/local/etc/redis/redis.conf\"]\r\n        ports:\r\n        - containerPort: 6379\r\n          name: redis\r\n        volumeMounts:\r\n        - name: redis-data\r\n          mountPath: /data\r\n        - name: redis-config\r\n          mountPath: /usr/local/etc/redis/redis.conf\r\n          subPath: redis.conf\r\n      volumes:\r\n      - name: redis-config\r\n        configMap:\r\n          name: redis-config\r\n  volumeClaimTemplates:\r\n  - metadata:\r\n      name: redis-data\r\n    spec:\r\n      accessModes:\r\n      - ReadWriteOnce\r\n      storageClassName: redis-gp3\r\n      resources:\r\n        requests:\r\n          storage: 10Gi\r\n\r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    app: redis\n  name: redis\n  namespace: data-space\nspec:\n  clusterIP: None\n  ports:\n  - port: 6379\n    targetPort: 6379\n  selector:\n    app: redis\n",
            "yaml_incluster": "a12d1b19cddd912d866d6cba39485f1ec36db35975ad36ede5354e1d7a56bc55"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.db_namespace",
            "module.manifests.kubectl_manifest.redis_configmap",
            "module.manifests.kubectl_manifest.resource_quota_dataspace",
            "module.manifests.kubectl_manifest.storageclass_redis",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "resource_quota_appspace",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/app-space/resourcequotas/app-quota",
            "ignore_fields": null,
            "kind": "ResourceQuota",
            "live_manifest_incluster": "67f526de28f8bb73841daa6f3b1dd9bb7e525ae6f8166d856159a83cd009438c",
            "live_uid": "697558cf-d9db-458d-8420-261037d4543c",
            "name": "app-quota",
            "namespace": "app-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "697558cf-d9db-458d-8420-261037d4543c",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: ResourceQuota\r\nmetadata:\r\n  name: app-quota\r\n  namespace: app-space\r\nspec:\r\n  hard:\r\n    requests.cpu: \"4\"\r\n    requests.memory: \"4Gi\"\r\n    limits.cpu: \"8\"\r\n    limits.memory: \"8Gi\"\r\n    pods: \"30\"              \r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: app-quota\n  namespace: app-space\nspec:\n  hard:\n    limits.cpu: \"8\"\n    limits.memory: 8Gi\n    pods: \"30\"\n    requests.cpu: \"4\"\n    requests.memory: 4Gi\n",
            "yaml_incluster": "67f526de28f8bb73841daa6f3b1dd9bb7e525ae6f8166d856159a83cd009438c"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.apps_namespace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "resource_quota_dataspace",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/data-space/resourcequotas/data-quota",
            "ignore_fields": null,
            "kind": "ResourceQuota",
            "live_manifest_incluster": "fafba89d776121ee36686e3a600c9d3c77483f23491a4ea91c98f3073f7e157e",
            "live_uid": "f576cae6-e3b6-49d0-8889-891167a7ff6f",
            "name": "data-quota",
            "namespace": "data-space",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "f576cae6-e3b6-49d0-8889-891167a7ff6f",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "apiVersion: v1\r\nkind: ResourceQuota\r\nmetadata:\r\n  name: data-quota\r\n  namespace: data-space\r\nspec:\r\n  hard:\r\n    requests.cpu: \"4\"\r\n    requests.memory: \"8Gi\"\r\n    limits.cpu: \"8\"\r\n    limits.memory: \"16Gi\"\r\n    pods: \"15\"    \r\n\r\n",
            "yaml_body_parsed": "apiVersion: v1\nkind: ResourceQuota\nmetadata:\n  name: data-quota\n  namespace: data-space\nspec:\n  hard:\n    limits.cpu: \"8\"\n    limits.memory: 16Gi\n    pods: \"15\"\n    requests.cpu: \"4\"\n    requests.memory: 8Gi\n",
            "yaml_incluster": "fafba89d776121ee36686e3a600c9d3c77483f23491a4ea91c98f3073f7e157e"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.manifests.kubectl_manifest.db_namespace",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.manifests",
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "storageclass_redis",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_version": "storage.k8s.io/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/storage.k8s.io/v1/storageclasses/redis-gp3",
            "ignore_fields": null,
            "kind": "StorageClass",
            "live_manifest_incluster": "6e40606122cf0eedd064a68087ebf07086488dcfd32671508732c8f7eaf2bf5d",
            "live_uid": "fddfedfa-a801-4704-9cdb-a0e3c9aa6183",
            "name": "redis-gp3",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "fddfedfa-a801-4704-9cdb-a0e3c9aa6183",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "\r\napiVersion: storage.k8s.io/v1\r\nkind: StorageClass\r\nmetadata:\r\n  name: redis-gp3\r\nprovisioner: ebs.csi.aws.com\r\nvolumeBindingMode: WaitForFirstConsumer\r\nparameters:\r\n  type: gp3\r\n  encrypted: \"true\"\r\n  kmsKeyId:  arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16\r\n\r\n",
            "yaml_body_parsed": "apiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n  name: redis-gp3\nparameters:\n  encrypted: \"true\"\n  kmsKeyId: arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16\n  type: gp3\nprovisioner: ebs.csi.aws.com\nvolumeBindingMode: WaitForFirstConsumer\n",
            "yaml_incluster": "6e40606122cf0eedd064a68087ebf07086488dcfd32671508732c8f7eaf2bf5d"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cert-manager.helm_release.cert_manager",
            "module.cert-manager.kubectl_manifest.letsencrypt_prod",
            "module.cert-manager.kubectl_manifest.letsencrypt_staging",
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.external-dns.aws_iam_role.external_dns",
            "module.external-dns.aws_iam_role_policy.external_dns_route53",
            "module.external-dns.helm_release.external_dns",
            "module.external-dns.kubectl_manifest.external_dns_namespace",
            "module.external-dns.kubernetes_service_account_v1.external_dns",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.nginx-ingress.helm_release.nginx_ingress",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.nginx-ingress",
      "mode": "managed",
      "type": "helm_release",
      "name": "nginx_ingress",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "ingress-nginx",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "ingress-nginx",
            "keyring": null,
            "lint": true,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.9.4",
                "chart": "ingress-nginx",
                "name": "ingress-nginx",
                "namespace": "ingress-nginx",
                "revision": 1,
                "values": "{\"controller\":{\"hostNetwork\":true,\"replicaCount\":1,\"service\":{\"annotations\":{\"service.beta.kubernetes.io/aws-load-balancer-nlb-target-type\":\"instance\",\"service.beta.kubernetes.io/aws-load-balancer-scheme\":\"internet-facing\",\"service.beta.kubernetes.io/aws-load-balancer-type\":\"nlb\"},\"externalTrafficPolicy\":\"Local\",\"type\":\"LoadBalancer\"}}}",
                "version": "4.8.3"
              }
            ],
            "name": "ingress-nginx",
            "namespace": "ingress-nginx",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://kubernetes.github.io/ingress-nginx",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [
              {
                "name": "controller.hostNetwork",
                "type": "",
                "value": "true"
              },
              {
                "name": "controller.replicaCount",
                "type": "",
                "value": "1"
              },
              {
                "name": "controller.service.annotations.service\\.beta\\.kubernetes\\.io/aws-load-balancer-nlb-target-type",
                "type": "",
                "value": "instance"
              },
              {
                "name": "controller.service.annotations.service\\.beta\\.kubernetes\\.io/aws-load-balancer-scheme",
                "type": "",
                "value": "internet-facing"
              },
              {
                "name": "controller.service.annotations.service\\.beta\\.kubernetes\\.io/aws-load-balancer-type",
                "type": "",
                "value": "nlb"
              },
              {
                "name": "controller.service.externalTrafficPolicy",
                "type": "",
                "value": "Local"
              },
              {
                "name": "controller.service.type",
                "type": "",
                "value": "LoadBalancer"
              }
            ],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 600,
            "values": null,
            "verify": false,
            "version": "4.8.3",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.eks.aws_eks_addon.csi-driver",
            "module.eks.aws_eks_addon.kube-proxy",
            "module.eks.aws_eks_addon.vpc-cni",
            "module.eks.aws_eks_cluster.eks_cluster",
            "module.eks.aws_eks_node_group.private_node_1",
            "module.eks.aws_eks_node_group.private_node_2",
            "module.eks.aws_iam_openid_connect_provider.eks",
            "module.eks.aws_iam_role.ebs_csi-driver",
            "module.eks.aws_iam_role_policy_attachment.storage",
            "module.eks.data.tls_certificate.eks",
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_flow_log.cloud_watch",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_kms_alias.kms_alias",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_kms_key_policy.kms_key_policy",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_route_table_association.private-route-association-2a",
            "module.vpc.aws_route_table_association.private-route-association-2b",
            "module.vpc.aws_route_table_association.pub-route-association-2a",
            "module.vpc.aws_route_table_association.pub-route-association-2b",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.security-group",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "eks-cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:security-group/sg-01a606cfc0b904aac",
            "description": "Controls who can talk to the EKS Control Plane",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow all outbound traffic",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-01a606cfc0b904aac",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow nodes to communicate with cluster",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0ef772a1e0ec6b27a"
                ],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "cluster-sg",
            "name_prefix": "",
            "owner_id": "038774803581",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.security-group",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "nodes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:security-group/sg-0ef772a1e0ec6b27a",
            "description": "Allow nodes to communicate with each other on all ports",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow node all egress",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0ef772a1e0ec6b27a",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow SSH traffic from VPC",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              },
              {
                "cidr_blocks": [],
                "description": "Allows node to node communication",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              }
            ],
            "name": "node-sg",
            "name_prefix": "",
            "owner_id": "038774803581",
            "revoke_rules_on_delete": false,
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.security-group",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cluster_ingress_from_nodes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow nodes to communicate with cluster",
            "from_port": 443,
            "id": "sgrule-2989890331",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_group_id": "sg-01a606cfc0b904aac",
            "security_group_rule_id": "sgr-051d0188a30cbda05",
            "self": false,
            "source_security_group_id": "sg-0ef772a1e0ec6b27a",
            "timeouts": null,
            "to_port": 443,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.security-group.aws_security_group.eks-cluster",
            "module.security-group.aws_security_group.nodes",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.security-group",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "node_ingress_from_cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow cluster to communicate with nodes",
            "from_port": 1025,
            "id": "sgrule-2709133893",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_group_id": "sg-0ef772a1e0ec6b27a",
            "security_group_rule_id": "sgr-077bea2e4f4bbe0dd",
            "self": false,
            "source_security_group_id": "sg-01a606cfc0b904aac",
            "timeouts": null,
            "to_port": 65535,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.security-group.aws_security_group.eks-cluster",
            "module.security-group.aws_security_group.nodes",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "cloud_watch_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:eu-west-2:038774803581:log-group:logs_for_cloudwatch",
            "id": "logs_for_cloudwatch",
            "kms_key_id": "arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16",
            "log_group_class": "STANDARD",
            "name": "logs_for_cloudwatch",
            "name_prefix": "",
            "retention_in_days": 7,
            "skip_destroy": false,
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_kms_key.kms_key"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_eip",
      "name": "ngw-eip",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address": null,
            "allocation_id": "eipalloc-0dacc477c8b21c613",
            "arn": "arn:aws:ec2:eu-west-2:038774803581:elastic-ip/eipalloc-0dacc477c8b21c613",
            "associate_with_private_ip": null,
            "association_id": "eipassoc-0c30ab9bbc364f227",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0dacc477c8b21c613",
            "instance": "",
            "ipam_pool_id": null,
            "network_border_group": "eu-west-2",
            "network_interface": "eni-0b700ad714d3efd9b",
            "private_dns": "ip-10-0-2-53.eu-west-2.compute.internal",
            "private_ip": "10.0.2.53",
            "ptr_record": "",
            "public_dns": "ec2-13-41-25-5.eu-west-2.compute.amazonaws.com",
            "public_ip": "13.41.25.5",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Name": "eip"
            },
            "tags_all": {
              "Name": "eip"
            },
            "timeouts": null,
            "vpc": true
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_flow_log",
      "name": "cloud_watch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:vpc-flow-log/fl-076024658f4d0306a",
            "deliver_cross_account_role": "",
            "destination_options": [],
            "eni_id": null,
            "iam_role_arn": "arn:aws:iam::038774803581:role/cloud-watch",
            "id": "fl-076024658f4d0306a",
            "log_destination": "arn:aws:logs:eu-west-2:038774803581:log-group:logs_for_cloudwatch",
            "log_destination_type": "cloud-watch-logs",
            "log_format": "${version} ${account-id} ${interface-id} ${srcaddr} ${dstaddr} ${srcport} ${dstport} ${protocol} ${packets} ${bytes} ${start} ${end} ${action} ${log-status}",
            "log_group_name": "logs_for_cloudwatch",
            "max_aggregation_interval": 600,
            "subnet_id": null,
            "tags": {},
            "tags_all": {},
            "traffic_type": "ALL",
            "transit_gateway_attachment_id": null,
            "transit_gateway_id": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_cloudwatch_log_group.cloud_watch_logs",
            "module.vpc.aws_kms_key.kms_key",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "igw",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:internet-gateway/igw-0de2906f251496c7d",
            "id": "igw-0de2906f251496c7d",
            "owner_id": "038774803581",
            "tags": {
              "Name": "IGW"
            },
            "tags_all": {
              "Name": "IGW"
            },
            "timeouts": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "kms_alias",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:eu-west-2:038774803581:alias/exampleKey",
            "id": "alias/exampleKey",
            "name": "alias/exampleKey",
            "name_prefix": "",
            "target_key_arn": "arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16",
            "target_key_id": "c23883ba-7cc0-4802-8b3f-568badf00e16"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_kms_key.kms_key"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "kms_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:eu-west-2:038774803581:key/c23883ba-7cc0-4802-8b3f-568badf00e16",
            "bypass_policy_lockout_safety_check": false,
            "custom_key_store_id": "",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": 20,
            "description": "Encryption KMS key",
            "enable_key_rotation": true,
            "id": "c23883ba-7cc0-4802-8b3f-568badf00e16",
            "is_enabled": true,
            "key_id": "c23883ba-7cc0-4802-8b3f-568badf00e16",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "policy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::038774803581:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\",\"kms:CreateGrant\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"logs.eu-west-2.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"AllowCloudWatchLogsUseOfKey\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"AllowEKSUseOfKey\"}],\"Version\":\"2012-10-17\"}",
            "rotation_period_in_days": 365,
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "xks_key_id": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_kms_key_policy",
      "name": "kms_key_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bypass_policy_lockout_safety_check": false,
            "id": "c23883ba-7cc0-4802-8b3f-568badf00e16",
            "key_id": "c23883ba-7cc0-4802-8b3f-568badf00e16",
            "policy": "{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::038774803581:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\",\"kms:CreateGrant\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"logs.eu-west-2.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"AllowCloudWatchLogsUseOfKey\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"AllowEKSUseOfKey\"}],\"Version\":\"2012-10-17\"}"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_kms_key.kms_key"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "ngw",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0dacc477c8b21c613",
            "association_id": "eipassoc-0c30ab9bbc364f227",
            "connectivity_type": "public",
            "id": "nat-02112f301e32b58cb",
            "network_interface_id": "eni-0b700ad714d3efd9b",
            "private_ip": "10.0.2.53",
            "public_ip": "13.41.25.5",
            "secondary_allocation_ids": [],
            "secondary_private_ip_address_count": 0,
            "secondary_private_ip_addresses": [],
            "subnet_id": "subnet-015b0bc6efd00d9ef",
            "tags": {
              "Name": "igw-nat"
            },
            "tags_all": {
              "Name": "igw-nat"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private-rt",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:route-table/rtb-0f3f55b95e7ba8bec",
            "id": "rtb-0f3f55b95e7ba8bec",
            "owner_id": "038774803581",
            "propagating_vgws": [],
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "nat-02112f301e32b58cb",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "private-rt"
            },
            "tags_all": {
              "Name": "private-rt"
            },
            "timeouts": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public-rt",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:route-table/rtb-0fd613a2cc60f6fb1",
            "id": "rtb-0fd613a2cc60f6fb1",
            "owner_id": "038774803581",
            "propagating_vgws": [],
            "route": [
              {
                "carrier_gateway_id": "",
                "cidr_block": "0.0.0.0/0",
                "core_network_arn": "",
                "destination_prefix_list_id": "",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-0de2906f251496c7d",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "public-rt"
            },
            "tags_all": {
              "Name": "public-rt"
            },
            "timeouts": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private-route-association-2a",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-07a1325e84866e0b2",
            "route_table_id": "rtb-0f3f55b95e7ba8bec",
            "subnet_id": "subnet-0d9675d31d97de8f0",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_subnet.private-subnet-2a",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private-route-association-2b",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-04c802935573be4db",
            "route_table_id": "rtb-0f3f55b95e7ba8bec",
            "subnet_id": "subnet-03269bbd28a01dece",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_eip.ngw-eip",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_nat_gateway.ngw",
            "module.vpc.aws_route_table.private-rt",
            "module.vpc.aws_subnet.private-subnet-2b",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "pub-route-association-2a",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-0e838daab58968a1b",
            "route_table_id": "rtb-0fd613a2cc60f6fb1",
            "subnet_id": "subnet-05ae5fa03903c1d67",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_subnet.public-subnet-2a",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "pub-route-association-2b",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "gateway_id": "",
            "id": "rtbassoc-02b31afd616bd5521",
            "route_table_id": "rtb-0fd613a2cc60f6fb1",
            "subnet_id": "subnet-015b0bc6efd00d9ef",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_internet_gateway.igw",
            "module.vpc.aws_route_table.public-rt",
            "module.vpc.aws_subnet.public-subnet-2b",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private-subnet-2a",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:subnet/subnet-0d9675d31d97de8f0",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-2a",
            "availability_zone_id": "euw2-az2",
            "cidr_block": "10.0.3.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-0d9675d31d97de8f0",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "038774803581",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Private-subnet-2a",
              "kubernetes.io/cluster/eks-cluster": "shared",
              "kubernetes.io/role/internal-elb": "1"
            },
            "tags_all": {
              "Name": "Private-subnet-2a",
              "kubernetes.io/cluster/eks-cluster": "shared",
              "kubernetes.io/role/internal-elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private-subnet-2b",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:subnet/subnet-03269bbd28a01dece",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-2b",
            "availability_zone_id": "euw2-az3",
            "cidr_block": "10.0.4.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-03269bbd28a01dece",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "038774803581",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Private-subnet-2b",
              "kubernetes.io/cluster/eks-cluster": "shared",
              "kubernetes.io/role/internal-elb": "1"
            },
            "tags_all": {
              "Name": "Private-subnet-2b",
              "kubernetes.io/cluster/eks-cluster": "shared",
              "kubernetes.io/role/internal-elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public-subnet-2a",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:subnet/subnet-05ae5fa03903c1d67",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-2a",
            "availability_zone_id": "euw2-az2",
            "cidr_block": "10.0.1.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-05ae5fa03903c1d67",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "038774803581",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Public-subnet-2a",
              "kubernetes.io/cluster/eks-cluster": "shared",
              "kubernetes.io/role/elb": "1"
            },
            "tags_all": {
              "Name": "Public-subnet-2a",
              "kubernetes.io/cluster/eks-cluster": "shared",
              "kubernetes.io/role/elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public-subnet-2b",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:subnet/subnet-015b0bc6efd00d9ef",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-2b",
            "availability_zone_id": "euw2-az3",
            "cidr_block": "10.0.2.0/24",
            "customer_owned_ipv4_pool": "",
            "enable_dns64": false,
            "enable_lni_at_device_index": 0,
            "enable_resource_name_dns_a_record_on_launch": false,
            "enable_resource_name_dns_aaaa_record_on_launch": false,
            "id": "subnet-015b0bc6efd00d9ef",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "ipv6_native": false,
            "map_customer_owned_ip_on_launch": false,
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "038774803581",
            "private_dns_hostname_type_on_launch": "ip-name",
            "tags": {
              "Name": "Public-subnet-2b",
              "kubernetes.io/cluster/eks-cluster": "shared",
              "kubernetes.io/role/elb": "1"
            },
            "tags_all": {
              "Name": "Public-subnet-2b",
              "kubernetes.io/cluster/eks-cluster": "shared",
              "kubernetes.io/role/elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0c2c905f1fae8df22"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach",
            "module.vpc.aws_vpc.eks_vpc"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "eks_vpc",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-2:038774803581:vpc/vpc-0c2c905f1fae8df22",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.0.0.0/16",
            "default_network_acl_id": "acl-06e17c5e5fbec0dc3",
            "default_route_table_id": "rtb-04170b199c5073d0f",
            "default_security_group_id": "sg-07f97a7d3ec6c33cf",
            "dhcp_options_id": "dopt-06da1b4ac7019d8bf",
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "enable_network_address_usage_metrics": false,
            "id": "vpc-0c2c905f1fae8df22",
            "instance_tenancy": "default",
            "ipv4_ipam_pool_id": null,
            "ipv4_netmask_length": null,
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_network_border_group": "",
            "ipv6_ipam_pool_id": "",
            "ipv6_netmask_length": 0,
            "main_route_table_id": "rtb-04170b199c5073d0f",
            "owner_id": "038774803581",
            "tags": {
              "Name": "Main-VPC"
            },
            "tags_all": {
              "Name": "Main-VPC"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.iam.aws_iam_instance_profile.nodes",
            "module.iam.aws_iam_policy.vpc_flow_logs_policy",
            "module.iam.aws_iam_role.cluster",
            "module.iam.aws_iam_role.nodes",
            "module.iam.aws_iam_role.vpc_flow_logs_role",
            "module.iam.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.iam.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.iam.aws_iam_role_policy_attachment.cluster_AmazonEKSClusterPolicy",
            "module.iam.aws_iam_role_policy_attachment.node_group_elb_policy",
            "module.iam.aws_iam_role_policy_attachment.vpc_flow_logs_attach"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
